<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/style.css">
    <title>Document</title>
</head>
<body> 
    <script src="./js/handlebars.js"></script>
    <script src="./js/jquery-2.1.1.min.js"></script> 
    <script id="entry-template" type="text/x-hardlebars-template">
                    {{name}}
                    <div class="nei">
                        <b>{{this.name}}</b>
                        {{each this.children}}
                            <div class="charge">
                                <i>{{this.name}}</i> 
                                {{each this.name}}
                                    <div class="mail">
                                            <em>{{this.name}}</em>
                                            {{each this.name}}
                                                <span>{{this.name}}</span>
                                            {{/each}}
                                </div> 
                                {{/each}}
                            </div>
                        {{/each}}
                    </div>
                    {{/each}}
        </script>
        <script> 
                $(function(){
                    $.ajax({
                        url:"/list", 
                        success:function(res){ 
                            var data=JSON.parse(res)[0];
                            console.log(data)  
                            var source=$("#entry-template").html();
                            var template=Handlebars.compile(source);
                            var context=data; 
                            var html=template(context);
                            $(".box").html(html); 
                        },
                        error:function(error){
                            console.warn(error)
                        }
                    })
                }) 
        </script> 
      <div class="box">
           我的电脑
             <div class="nei">
                    <b>-c</b> 
                    <div class="charge">
                        <i>a.txt</i> 
                    </div>
                    <div class="charge">
                        <i>常用</i>
                            <div class="mail">
                                  <em>b.txt</em>
                             </div> 
                             <div class="mail">
                                  <em>c.html</em>
                            </div> 
                     </div>
                     <div class="charge">
                         <i>程序</i>
                            <div class="mail">
                                <em>教学</em>
                            </div> 
                            <div class="mail">
                                <em>-demo</em>
                                <div class="smail">
                                      <span>base.js</span>
                                </div>
                             </div>  
                     </div>
             </div> 
             <div class="nei">
                    <b>-d</b> 
                    <div class="charge">
                            <i>影音</i>
                            <div class="mail">
                                <em>金刚revb</em>
                            </div> 
                            <div class="mail">
                                <em>冰河时代.rm</em>
                            </div> 
                    </div>
                    <div class="charge">
                            <i>游戏</i>
                            <div class="mail">
                                <em>LOL.exe</em>
                            </div> 
                     </div> 
             </div> 
      </div>
</body>
</html>